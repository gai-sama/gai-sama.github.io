/** Created by ck on 2016/6/21. */
$(function(){window.onscroll=function(){var f=document.documentElement.scrollTop||document.body.scrollTop;var g=document.getElementById("page-header");if(f>=10){g.className="fixing"}else{g.className=""}};var a="";var b="";d();$(".item>a, .sub-item>a").click(function(g){g.preventDefault();var f=$(this).parent();if(f.hasClass("opened")){f.removeClass("opened").addClass("closed");f.find("ul").stop().slideUp()}else{if(f.hasClass("closed")){f.removeClass("closed").addClass("opened");if(!!window.ActiveXObject||"ActiveXObject" in window){f.addClass("no-position");f.find("ul").slideDown(function(){f.removeClass("no-position")})}else{f.find("ul").stop().slideDown()}}else{a=$(this).attr("href");window.location.hash=a;if(a!==b){d(a)}}}});var e=[];var c=0;function d(f){f=f||window.location.hash;var k="",i="";switch(f){case"#master_intro":k="场景大师简介";i="detail/master_intro.html";break;case"#login_intro":k="场景大师登陆界面介绍";i="detail/login_intro.html";break;case"#scene_lib":k="VR场景库";i="detail/scene_lib.html";break;case"#source_center":k="素材中心";i="detail/source_center.html";break;case"#user_center":k="用户中心";i="detail/user_center.html";break;case"#editor_intro":k="场景编辑器操作说明";i="detail/editor_intro.html";break;case"#reg_download":k="注册及下载问题";i="detail/reg_download.html";break;case"#direction":k="产品及使用说明";i="detail/direction.html";break;case"#requirement":k="客户端配置要求";i="detail/requirement.html";break;case"#other":k="其他问题";i="detail/other.html";break;case"#intro_update1":k="R1.1.3";i="detail/i_update1.html";break;default:window.location.hash="master_intro";f="#master_intro";k="场景大师简介";i="detail/master_intro.html";break}$("#aside").find("li").removeClass("active");b=f;var h=$("li>a[href="+f+"]").parent();var g=h.parents(".item");if(h.hasClass("sub-item")){g.removeClass("closed").addClass("opened");g.find("ul").show()}h.addClass("active");$(".article-title").text(k);var j=$("#content-panel");j.addClass("loading-mask");$(".panel-content").load(i,function(){e=$(this).find("img");c=e.length;c>0?e.each(function(l,m){m.timer=setInterval(function(){if(m.complete){c--;if(!c){j.removeClass("loading-mask")}clearInterval(m.timer)}},50)}):j.removeClass("loading-mask")})}});